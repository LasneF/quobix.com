<!doctype html><html lang=en><head><script type=application/ld+json>{"@context":"https://schema.org","@type":"NewsArticle","headline":"vacuum: oas3-valid-schema-example","image":["https:\/\/quobix.com\/"],"datePublished":"2022-06-19 07:39:53 -0400 -0400","author":{"@type":"Person","name":"Dave Shanley","url":"https://quobix.com/author"}}</script><meta charset=utf-8><link rel=apple-touch-icon sizes=180x180 href=https://quobix.com//apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://quobix.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://quobix.com/favicon-16x16.png><meta name=description content="quobix::vaccum, The worlds fastest OpenAPI linter. Examples must be present and valid for operations and components
"><meta charset=utf-8><meta name=keywords content="OpenAPI,swagger,spectral,linting,linter,vacuum,dave shanley,shanley,code,golang,java,javascript,typescript,quobix,engineer"><link crossorigin=use-credentials rel=manifest href=https://quobix.com/site.webmanifest><meta name=author content="Dave Shanley"><meta name=viewport content="width=device-width,initial-scale=1"><title>vacuum OpenAPI Linter: oas3-valid-schema-example</title><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-PC979K2")</script><link rel=preload href=https://quobix.com/assets/bundle.js as=script><script src=https://quobix.com/assets/bundle.js></script><style>:root{--global-font-size:17px;--toc-font-size:0.7rem;--breadcrumb-font-size:0.75rem;--childnav-font-size:0.75rem;--nav-font-size:0.95rem;--toc-font-header-size:0.85rem;--rule-item-header-fontsize:1.2rem;--rule-item-details-fontsize:0.8rem;--rule-format-fontsize:0.8rem;--rule-type-fontsize:0.7rem;--rule-severity-fontsize:0.8rem;--rule-recommended-fontsize:0.7rem;--rule-function-fontsize:0.8rem;--rule-recommended-banner-fontsize:1rem;--rule-panel-label:0.7rem;--rule-id-fontsize:2rem;--global-line-height:1.4em;--global-space:10px;--vacuum-navigation-width-v:199px;--vacuum-navigation-width:200px;--font-stack:Menlo, Monaco, Roboto Mono, Lucida Console, Liberation Mono,
            DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace,
            serif;--mono-font-stack:Menlo, Monaco, Roboto Mono, Lucida Console, Liberation Mono,
            DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace,
            serif;--background-color:#0d1117;--background-color-alpha:rgba(13, 17, 23, 0.80);--rule-item-background:rgba(26, 32, 44, 0.51);--rule-recommended-background:rgb(33, 41, 55);--rule-stats-background:#0a0a0a;--rule-item-border:rgba(35, 43, 58, 0.9);--navigation-hover:#b685ff33;--navigation-child-selected:rgba(182, 133, 255, 0.26);--navigation-child-hover:rgba(179, 131, 250, 0.09);--navigation-child-container:rgba(182, 133, 255, 0.10);--page-width:65em;--font-color:#e8e9ed;--invert-font-color:#222225;--secondary-color:#b685ff;--secondary-color-lowalpha:rgba(182, 133, 255, 0.73);--secondary-color-very-lowalpha:rgba(182, 133, 255, 0.23);--secondary-color-shadow:rgb(59, 41, 87);--secondary-color-shadow-mid:rgb(78, 54, 114);--tertiary-color:#a3abba;--primary-color:rgba(98, 196, 255, 1.0);--primary-color-lowalpha:rgba(98, 196, 255, 0.6);--error-color:#ff3c74;--error-font-color:#ff246b;--error-color-lowalpha:rgba(255, 60, 116, 0.4);--progress-bar-background:#3f3f44;--progress-bar-fill:#62c4ff;--code-bg-color:none;--input-style:solid;--display-h1-decoration:none;--bold-text:#e397fa;--terminal-green:#00FF00FF;--terminal-yellow:#fddb00;--hrcolor:#3d3d3d;--code-border:#525252;--string-literal:#fd66e5}</style><link rel=stylesheet href=https://quobix.com/assets/syntax.css><link rel=stylesheet href=https://quobix.com/assets/app.css><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="vacuum OpenAPI Linter: oas3-valid-schema-example"><meta property="og:description" content="Examples must be present and valid for operations and components
"><meta property="og:publish_date" content="2022-06-19 07:39:53 -0400 -0400"><meta property="og:url" content="https://quobix.com/vacuum/rules/examples/oas3-valid-schema-example/"><meta property="og:site_name" content="quobix"><meta property="og:image" content="https://quobix.com/images/vacuum/logo-blackbg.png"><meta property="og:image:width" content="1400"><meta property="og:image:height" content="680"><meta property="og:image:secure_url" content="https://quobix.com/images/vacuum/logo-blackbg.png"><meta property="og:image:type" content="image/png"><meta property="og:image:alt" content="https://quobix.com/images/vacuum/logo-blackbg.png"><meta property="article:author" content="https://quobix.com"><meta property="article:publisher" content="https://quobix.com"><meta property="article:section" content="Software"><meta property="article:published_time" content="2022-06-19 07:39:53 -0400 -0400"><meta property="article:modified_time" content="2022-06-19 07:39:53 -0400 -0400"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@daveshanley"><meta name=twitter:creator content="@daveshanley"><meta name=twitter:label1 content="Written by"><meta name=twitter:data1 content="Dave Shanley"><link rel=stylesheet href=https://quobix.com/assets/vacuum.css></head><body class=terminal><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PC979K2" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div class=quobix-header><section class=terminal-nav id=main-navigation><header class=terminal-logo><div class="logo terminal-prompt"><a href=https://quobix.com/>quobix</a><span class=vacuum-sep>::</span><span class=vacuum-title>vacuum</span></div></header><nav class=terminal-menu id=header-menu><ul itemscope itemtype=http://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a href=https://quobix.com/articles/ itemprop=item class=menu-item><span itemprop=name>Articles</span><meta itemprop=position content="1"></a></li><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a href=https://quobix.com/author/ itemprop=item class=menu-item><span itemprop=name>Author</span><meta itemprop=position content="2"></a></li><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a href=https://quobix.com/vacuum/ itemprop=item class="menu-item active"><span itemprop=name class=active>Vacuum</span><meta itemprop=position content="3"></a></li></ul></nav></section><hr id=top-nav-divider></div><div class=container><div class=main-container><main class=content-container><nav class=vacuum-navigation><vacuum-desktop-navigation><vacuum-nav-item url=https://quobix.com/vacuum/about/ name="About Vacuum"></vacuum-nav-item>
<vacuum-nav-item url=https://quobix.com/vacuum/installing/ name=Installing></vacuum-nav-item>
<vacuum-nav-item url=https://quobix.com/vacuum/rulesets/ name=Rulesets></vacuum-nav-item>
<vacuum-nav-item url name=Functions><ul class=navigation-children><li class=child-nav><a href=https://quobix.com/vacuum/functions/core/>Core</a></li><li class=child-nav><a href=https://quobix.com/vacuum/functions/openapi/>OpenAPI</a></li></ul></vacuum-nav-item><vacuum-nav-item url name=Rules open><ul class=navigation-children><li class=active-child-nav><a href=https://quobix.com/vacuum/rules/examples/>Examples</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/operations/>Operations/Paths</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/schemas/>Schemas</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/information/>Spec Information</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/validation/>Validation</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/descriptions/>Descriptions</a></li><li class=child-nav><a href=https://quobix.com/vacuum/rules/tags/>Tags</a></li></ul></vacuum-nav-item></vacuum-desktop-navigation></nav><mobile-nav><ul class=mobile-nav><li class=mobile-nav><a href=https://quobix.com/vacuum/functions/core/>Core</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/functions/openapi/>OpenAPI</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/functions/>All Functions</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/examples/>Examples</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/>All Rules</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/operations/>Operations/Paths</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/schemas/>Schemas</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/information/>Spec Information</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/validation/>Validation</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/descriptions/>Descriptions</a></li><li class=mobile-nav><a href=https://quobix.com/vacuum/rules/tags/>Tags</a></li></ul></mobile-nav><section class=vacuum-content><div class=breadcrumbs><ul itemscope itemtype=http://schema.org/BreadcrumbList><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a itemprop=item typeof="WebPage" href=https://quobix.com/vacuum/><span itemprop=name>Vacuum</span><meta itemprop=position content="4"></a></li><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a itemprop=item typeof="WebPage" href=https://quobix.com/vacuum/rules/><span itemprop=name>All Rules</span><meta itemprop=position content="3"></a></li><li itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a itemprop=item typeof="WebPage" href=https://quobix.com/vacuum/rules/examples/><span itemprop=name>Examples</span><meta itemprop=position content="2"></a></li><li class=crumb-active itemprop=itemListElement itemscope itemtype=http://schema.org/ListItem><a itemprop=item typeof="WebPage" href=https://quobix.com/vacuum/rules/examples/oas3-valid-schema-example/><span itemprop=name>oas3-valid-schema-example</span><meta itemprop=position content="1"></a></li></ul></div><rule-recommended-banner>Recommended</rule-recommended-banner><article><h1 class=rule-id>oas3-valid-schema-example</h1><hr class=rule-breakdown-hr><section class=rule-breakdown-panel><rule-panel><span>Formats:</span><formats-panel formats=oas3></formats-panel></rule-panel>
<rule-panel><span>Severity:</span>
<severity-panel severity=warn></severity-panel></rule-panel>
<rule-panel><function-panel functiontype=openapi functionname=oasExample></function-panel></rule-panel>
<rule-panel><style-panel styletype=validation></style-panel></rule-panel></section><hr class=rule-breakdown-hr><section class=rule-details><p><a href=https://swagger.io/docs/specification/adding-examples/>Examples</a> are really important. When defining an OpenAPI specification, it&rsquo;s critical that every operation
request and response have examples defined for them. The same applies to definitions defined as references.</p><p><a href=https://swagger.io/docs/specification/adding-examples/>Examples</a> help consumers of your API understand what real data should actually look like when sending requests,
or listening for responses.</p><p>Good examples are particularly valuable when data is complex, deep, nested or contains special formatting.</p><h3 id=why-did-this-violation-appear>Why did this violation appear?</h3><p>The specification is missing examples in one or more areas. Examples need to be added <em>everywhere</em> for this rule to pass.</p><h3 id=what-is-this-rule-checking-for>What is this rule checking for?</h3><p>The rule looks through the spec at the following elements, and checks that examples have been clearly defined for each.</p><ul><li>Operation Requests</li><li>Operation Responses</li><li>Operation Parameters</li><li>Global Components</li><li>Global Parameters</li><li>Example Schema Check</li><li>Use of value/externalValue</li></ul><h3 id=validating-the-schema>Validating the schema.</h3><p>If the operation or component implementing an example is an object (not a primitive), then vacuum will
validate the example matches the schema defined.</p><h3 id=checking--valueexternalvalue>Checking value/externalValue</h3><p>Examples can have an <code>externalValue</code> or a <code>value</code>, but they <strong>cannot have both</strong>.</p><h3 id=what-does-a-good-example-look-like>What does a good example look like?</h3><p>In OpenAPI 3.0, we should include examples for each <a href=https://swagger.io/docs/specification/describing-request-body/>RequestBody</a>.
We should also include examples for <a href=https://swagger.io/docs/specification/describing-responses/>Responses</a>, <a href=https://swagger.io/docs/specification/components/>Components</a> or
<a href=hhttps://swagger.io/docs/specification/describing-parameters/>Parameters</a></p><p>A good example, of a <a href=https://swagger.io/docs/specification/describing-request-body/>RequestBody</a> and <a href=https://swagger.io/docs/specification/describing-responses/>Response</a> example looks like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>paths</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>/burgers</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>post</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>operationId</span><span class=p>:</span><span class=w> </span><span class=l>createBurger</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>tags</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span>- <span class=s2>&#34;Burgers&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>summary</span><span class=p>:</span><span class=w>  </span><span class=l>Create a new burger</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A new burger for our menu, yummy yum yum.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>requestBody</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>Give us the new burger!</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>content</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>application/json</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/schemas/Burger&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>examples</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>pbjBurger</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>A horrible, nutty, sticky mess.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>value</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Peanut And Jelly</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>numPatties</span><span class=p>:</span><span class=w> </span><span class=m>3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>cakeBurger</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>A sickly, sweet, atrocity</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>value</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Chocolate Cake Burger</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>numPatties</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>responses</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=s2>&#34;200&#34;</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=l>A tasty burger for you to eat.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>content</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=nt>application/json</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>schema</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>$ref</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;#/components/schemas/Burger&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=nt>examples</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>quarterPounder</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>A yummy tasty two patty burger.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>value</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Quarter Pounder with Cheese</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=nt>numPatties</span><span class=p>:</span><span class=w> </span><span class=m>1</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=nt>filetOFish</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>summary</span><span class=p>:</span><span class=w> </span><span class=l>A Cripsy Fish Sammich filled with ocean goodness.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                  </span><span class=nt>value</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Filet-O-Fish</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=nt>numPatties</span><span class=p>:</span><span class=w> </span><span class=m>1</span></span></span></code></pre></div><h3 id=how-do-i-fix-this-violation>How do I fix this violation?</h3><p>Examples are critical for consumers to be able to understand schemas and models defined by the spec.</p><p>Without examples, developers can&rsquo;t understand the type of data the API will return in real life. Examples are turned into mocks
and can provide a rich testing capability for APIs. Add detailed examples everywhere!</p><p>Add examples!</p></section><hr class=rule-breakdown-hr><section class=rule-footer-navigation><nav><span><a href=https://quobix.com/vacuum/rules/examples/>&lt; Back to Example Based Rules</a></span></nav></section></article></section><div class=right-nav><asisde class=table-of-contents><p>What's on this page</p><nav id=TableOfContents><ul><li><ul><li><a href=#why-did-this-violation-appear>Why did this violation appear?</a></li><li><a href=#what-is-this-rule-checking-for>What is this rule checking for?</a></li><li><a href=#validating-the-schema>Validating the schema.</a></li><li><a href=#checking--valueexternalvalue>Checking value/externalValue</a></li><li><a href=#what-does-a-good-example-look-like>What does a good example look like?</a></li><li><a href=#how-do-i-fix-this-violation>How do I fix this violation?</a></li></ul></li></ul></nav></asisde></div></main></div><footer class=footer><a href=https://quobix.com/author>Dave Shanley</a> 2007-2022
<span class=generated-timestamp>[generated 29/06/22 15:20 UTC]</span></footer></div></body></html>